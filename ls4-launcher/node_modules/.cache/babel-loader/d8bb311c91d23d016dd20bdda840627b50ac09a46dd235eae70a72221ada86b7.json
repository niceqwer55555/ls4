{"ast":null,"code":"import { mapState } from \"vuex\";\nimport NotImplementedError from \"../../utils/errors/NotImplementedError\";\nexport default {\n  computed: mapState({\n    user: state => state.user,\n    summonerIconUrl: state => {\n      const {\n        host,\n        port\n      } = state.config.download;\n      return `${host}:${port}/summoner_icons/${state.user.summonerIconId}.png`;\n    },\n    userStatus: state => {\n      switch (state.user.summonerStatus) {\n        case \"ONLINE\":\n          return \"online\";\n        case \"AWAY\":\n          return \"away\";\n        case \"OFFLINE\":\n          return \"offline\";\n        case \"IN_LOBBY\":\n          return \"lobby\";\n        case \"IN_CHAMP_SELECT\":\n          return \"champselect\";\n        default:\n          return \"offline\";\n      }\n    }\n  }),\n  methods: {\n    saveUserMotto() {\n      const motto = this.$refs.profileMottoInput.value;\n      if (motto.length > 30) {\n        throw new NotImplementedError(\"Should show error message for user, or play error sound\");\n      }\n      this.$socket.sendSystemMessage(\"USER_UPDATE_MOTTO\", {\n        data: motto\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n        this.$store.dispatch(\"saveUserMotto\", motto).then(() => {\n          this.$refs.profileMottoInput.blur();\n        });\n      });\n    },\n    changeUserStatus() {\n      let changeto;\n      switch (this.$store.state.user.summonerStatus) {\n        case \"ONLINE\":\n          changeto = \"AWAY\";\n          break;\n        case \"AWAY\":\n          changeto = \"ONLINE\";\n          break;\n        default:\n      }\n      if (changeto) {\n        this.$socket.sendSystemMessage(\"USER_UPDATE_STATUS\", {\n          data: changeto\n        }, (response, error) => {\n          if (error) {\n            console.log(\"Flyback error:\");\n            console.log(error);\n          }\n          this.$store.dispatch(\"saveUserStatus\", changeto);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapState","NotImplementedError","computed","user","state","summonerIconUrl","host","port","config","download","summonerIconId","userStatus","summonerStatus","methods","saveUserMotto","motto","$refs","profileMottoInput","value","length","$socket","sendSystemMessage","data","response","error","console","log","$store","dispatch","then","blur","changeUserStatus","changeto"],"sources":["src/components/SideBar/Profile.vue"],"sourcesContent":["<template>\r\n  <div id=\"profile\">\r\n    <div class=\"upper\">\r\n      <a @click=\"$modal.summonericon.show()\">\r\n        <div class=\"summoner-icon\">\r\n          <!--TODO: Make an exp progress bar-->\r\n          <img v-bind:src=\"summonerIconUrl\" alt=\"summonerIcon\" />\r\n        </div>\r\n      </a>\r\n      <div class=\"summoner-details\" v-bind:class=\"userStatus\">\r\n        <div class=\"inner\">\r\n          <div\r\n            class=\"name\"\r\n            :class=\"{ shop_colored_name: user.nameColourUnlocked }\"\r\n          >\r\n            {{ user.summonerName }}\r\n          </div>\r\n          <div class=\"blob\" @click=\"changeUserStatus\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"lower\">\r\n      <div class=\"status\" v-bind:class=\"userStatus\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Motto...\"\r\n          ref=\"profileMottoInput\"\r\n          tabindex=\"-1\"\r\n          v-bind:value=\"user.summonerMotto ? user.summonerMotto : 'Online'\"\r\n          v-on:keyup.enter=\"saveUserMotto\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport NotImplementedError from \"../../utils/errors/NotImplementedError\";\r\nexport default {\r\n  computed: mapState({\r\n    user: state => state.user,\r\n    summonerIconUrl: state => {\r\n      const { host, port } = state.config.download;\r\n      return `${host}:${port}/summoner_icons/${state.user.summonerIconId}.png`;\r\n    },\r\n    userStatus: state => {\r\n      switch (state.user.summonerStatus) {\r\n        case \"ONLINE\":\r\n          return \"online\";\r\n\r\n        case \"AWAY\":\r\n          return \"away\";\r\n\r\n        case \"OFFLINE\":\r\n          return \"offline\";\r\n\r\n        case \"IN_LOBBY\":\r\n          return \"lobby\";\r\n\r\n        case \"IN_CHAMP_SELECT\":\r\n          return \"champselect\";\r\n\r\n        default:\r\n          return \"offline\";\r\n      }\r\n    }\r\n  }),\r\n  methods: {\r\n    saveUserMotto() {\r\n      const motto = this.$refs.profileMottoInput.value;\r\n      if (motto.length > 30) {\r\n        throw new NotImplementedError(\r\n          \"Should show error message for user, or play error sound\"\r\n        );\r\n      }\r\n\r\n      this.$socket.sendSystemMessage(\r\n        \"USER_UPDATE_MOTTO\",\r\n        { data: motto },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n          this.$store.dispatch(\"saveUserMotto\", motto).then(() => {\r\n            this.$refs.profileMottoInput.blur();\r\n          });\r\n        }\r\n      );\r\n    },\r\n    changeUserStatus() {\r\n      let changeto;\r\n\r\n      switch (this.$store.state.user.summonerStatus) {\r\n        case \"ONLINE\":\r\n          changeto = \"AWAY\";\r\n          break;\r\n\r\n        case \"AWAY\":\r\n          changeto = \"ONLINE\";\r\n          break;\r\n\r\n        default:\r\n      }\r\n\r\n      if (changeto) {\r\n        this.$socket.sendSystemMessage(\r\n          \"USER_UPDATE_STATUS\",\r\n          { data: changeto },\r\n          (response, error) => {\r\n            if (error) {\r\n              console.log(\"Flyback error:\");\r\n              console.log(error);\r\n            }\r\n            this.$store.dispatch(\"saveUserStatus\", changeto);\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#profile {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n#profile .upper {\r\n  display: flex;\r\n  padding: 6px;\r\n}\r\n\r\n#profile .upper .summoner-icon {\r\n  width: 50px;\r\n  height: 50px;\r\n  padding: 1.5px;\r\n  border-radius: 3px;\r\n  overflow: none;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  // box-shadow: inset 0px 0px 3px 0px goldenrod;\r\n}\r\n\r\n#profile .upper .summoner-icon img {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 3px;\r\n  box-sizing: border-box;\r\n  box-shadow: inset 0px 0px 3px 0px black;\r\n}\r\n\r\n#profile .upper .summoner-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  padding-left: 10px;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#profile .upper .summoner-details .inner {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n#profile .upper .summoner-details .inner .name {\r\n  margin: 0;\r\n  font-family: LoLFont2;\r\n  color: rgba(245, 245, 245, 0.9);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n#profile .lower {\r\n  padding: 0 10px;\r\n}\r\n\r\n#profile .lower .status {\r\n  display: flex;\r\n  height: 20px;\r\n}\r\n\r\n#profile .lower .status .unfocused {\r\n  font-size: 13px;\r\n  font-family: LolFont4;\r\n  line-height: 22px;\r\n  display: none;\r\n  padding-left: 2px;\r\n}\r\n\r\n#profile .lower .status .unfocused.visible {\r\n  display: block;\r\n}\r\n\r\n#profile .upper .summoner-details .blob {\r\n  width: 15px;\r\n  height: 15px;\r\n  // border-width: 1px;\r\n  // border-style: solid;\r\n  margin-right: 5px;\r\n  position: relative;\r\n  transform: translateY(10%);\r\n  transition: border-color ease-in-out 150ms;\r\n  background-size: 100% 100%;\r\n  background-image: url(\"../../assets/images/status-blob-offline.png\");\r\n  cursor: pointer;\r\n  box-shadow: 1px 1px 3px 2px rgba(0, 0, 0, 0.25);\r\n  border-radius: 50%;\r\n}\r\n\r\n#profile .upper .summoner-details .blob:hover {\r\n  border-color: rgba(245, 245, 245, 0.7);\r\n}\r\n\r\n#profile .upper .summoner-details.online .blob {\r\n  background-image: url(\"../../assets/images/status-blob-online.png\");\r\n}\r\n\r\n#profile .upper .summoner-details.away .blob {\r\n  background-image: url(\"../../assets/images/status-blob-away.png\");\r\n}\r\n\r\n#profile .upper .summoner-details.lobby .blob,\r\n#profile .upper .summoner-details.champselect .blob {\r\n  background-image: url(\"../../assets/images/status-blob-busy.png\");\r\n}\r\n\r\n#profile .lower .status input {\r\n  font-size: 13px;\r\n  font-family: LoLFont4;\r\n  outline: none;\r\n  border: none;\r\n  background: linear-gradient(0deg, #27496f 0%, #113158 100%);\r\n  box-shadow: inset 0px 0px 5px 1px rgba(0, 0, 0, 0.75), 0px 0px 5px 0px #464444;\r\n  color: rgba(245, 245, 245, 0.5);\r\n  width: 100%;\r\n  height: 25px;\r\n  padding: 0 10px;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  outline-offset: 0;\r\n}\r\n\r\n// #profile .lower .status.online input {\r\n//   color: green;\r\n// }\r\n\r\n// #profile .lower .status.away input {\r\n//   color: red;\r\n// }\r\n\r\n// #profile .lower .status.lobby input,\r\n// #profile .lower .status.champselect input {\r\n//   color: rgb(0, 153, 255);\r\n// }\r\n</style>\r\n"],"mappings":"AAqCA,SAAAA,QAAA;AACA,OAAAC,mBAAA;AACA;EACAC,QAAA,EAAAF,QAAA;IACAG,IAAA,EAAAC,KAAA,IAAAA,KAAA,CAAAD,IAAA;IACAE,eAAA,EAAAD,KAAA;MACA;QAAAE,IAAA;QAAAC;MAAA,IAAAH,KAAA,CAAAI,MAAA,CAAAC,QAAA;MACA,UAAAH,IAAA,IAAAC,IAAA,mBAAAH,KAAA,CAAAD,IAAA,CAAAO,cAAA;IACA;IACAC,UAAA,EAAAP,KAAA;MACA,QAAAA,KAAA,CAAAD,IAAA,CAAAS,cAAA;QACA;UACA;QAEA;UACA;QAEA;UACA;QAEA;UACA;QAEA;UACA;QAEA;UACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACA,MAAAC,KAAA,QAAAC,KAAA,CAAAC,iBAAA,CAAAC,KAAA;MACA,IAAAH,KAAA,CAAAI,MAAA;QACA,UAAAlB,mBAAA,CACA,yDACA;MACA;MAEA,KAAAmB,OAAA,CAAAC,iBAAA,CACA,qBACA;QAAAC,IAAA,EAAAP;MAAA,GACA,CAAAQ,QAAA,EAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;QACA,KAAAG,MAAA,CAAAC,QAAA,kBAAAb,KAAA,EAAAc,IAAA;UACA,KAAAb,KAAA,CAAAC,iBAAA,CAAAa,IAAA;QACA;MACA,CACA;IACA;IACAC,iBAAA;MACA,IAAAC,QAAA;MAEA,aAAAL,MAAA,CAAAvB,KAAA,CAAAD,IAAA,CAAAS,cAAA;QACA;UACAoB,QAAA;UACA;QAEA;UACAA,QAAA;UACA;QAEA;MACA;MAEA,IAAAA,QAAA;QACA,KAAAZ,OAAA,CAAAC,iBAAA,CACA,sBACA;UAAAC,IAAA,EAAAU;QAAA,GACA,CAAAT,QAAA,EAAAC,KAAA;UACA,IAAAA,KAAA;YACAC,OAAA,CAAAC,GAAA;YACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;UACA;UACA,KAAAG,MAAA,CAAAC,QAAA,mBAAAI,QAAA;QACA,CACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}