{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { mapState } from \"vuex\";\nexport default {\n  props: {\n    player: Object\n  },\n  methods: {\n    getPlayerStateAnim() {\n      if (this.player.lockedIn) {\n        return \"static/anims/accent/champselect-player-idle.webm\";\n      } else if (this.player.canBan || this.player.canLockIn) {\n        return \"static/anims/accent/champselect-player-active.webm\";\n      } else {\n        return \"static/anims/accent/champselect-player-idle.webm\";\n      }\n    },\n    getChampionImgUrl(champId) {\n      const {\n        host,\n        port\n      } = this.$store.state.config.download;\n      return `${host}:${port}/champions/${champId}.jpg`;\n    },\n    initiateTrade() {\n      this.$socket.sendChampSelectMessage(`CHAMPSELECT_TRADE_REQUEST`, {\n        data: this.player.user.summonerName\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n        console.log(response);\n      });\n    },\n    getSpell(spell) {\n      spell = spell.toLowerCase();\n      const parts = spell.split(\"_\");\n      parts.forEach((part, index) => {\n        parts[index] = part.charAt(0).toUpperCase() + part.slice(1);\n      });\n      const spellimg = parts.join(\"\");\n      const {\n        host,\n        port\n      } = this.$store.state.config.download;\n      return `${host}:${port}/summoner_spells/${spellimg}.jpg`;\n    },\n    acceptTrade(playerName) {\n      this.$socket.sendChampSelectMessage(`CHAMPSELECT_TRADE_ACCEPT`, {\n        data: playerName\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n        console.log(response);\n      });\n    },\n    denyTrade(playerName) {\n      this.$socket.sendChampSelectMessage(`CHAMPSELECT_TRADE_DENY`, {\n        data: playerName\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n        console.log(response);\n      });\n    }\n  },\n  computed: mapState({\n    globalState: state => state.csGlobalState,\n    tradeState: state => {\n      const myTrades = state.champselect.tradesTeam.filter(trade => {\n        return trade.initiator.user.summonerName == state.csCurrentPlayer.user.summonerName || trade.target.user.summonerName == state.csCurrentPlayer.user.summonerName;\n      });\n      if (myTrades.length == 0) return;\n      const mytrade = myTrades[0];\n      if (mytrade.initiator.user.summonerName == state.csCurrentPlayer.user.summonerName) {\n        return {\n          status: \"INITIATOR\",\n          trade: mytrade\n        };\n      } else if (mytrade.target.user.summonerName == state.csCurrentPlayer.user.summonerName) {\n        return {\n          status: \"TARGET\",\n          trade: mytrade\n        };\n      } else {\n        return null;\n      }\n    },\n    canTradeWith(state) {\n      if (this.player.user.summonerName == state.csCurrentPlayer.user.summonerName) {\n        console.log(\"A\");\n        return false;\n      }\n      if (state.champselect.tradesTeam.filter(trade => {\n        return trade.initiator.summonerName == this.player.summonerName || trade.target.summonerName == this.player.summonerName;\n      }).length > 0) {\n        console.log(\"B\");\n        return false;\n      }\n      return true;\n    },\n    currentPlayer: state => state.csCurrentPlayer\n  })\n};","map":{"version":3,"names":["mapState","props","player","Object","methods","getPlayerStateAnim","lockedIn","canBan","canLockIn","getChampionImgUrl","champId","host","port","$store","state","config","download","initiateTrade","$socket","sendChampSelectMessage","data","user","summonerName","response","error","console","log","getSpell","spell","toLowerCase","parts","split","forEach","part","index","charAt","toUpperCase","slice","spellimg","join","acceptTrade","playerName","denyTrade","computed","globalState","csGlobalState","tradeState","myTrades","champselect","tradesTeam","filter","trade","initiator","csCurrentPlayer","target","length","mytrade","status","canTradeWith","currentPlayer"],"sources":["src/components/ChampSelect/AllyPlayer.vue"],"sourcesContent":["<template>\r\n  <div class=\"player\">\r\n    <div\r\n      class=\"tradeModal\"\r\n      v-if=\"\r\n        tradeState != null &&\r\n          player.user.summonerName == currentPlayer.user.summonerName\r\n      \"\r\n    >\r\n      <div class=\"head\">\r\n        {{ t(\"CS_PENDING_TRADE\") }}\r\n      </div>\r\n      <div class=\"tradeinfo\" v-if=\"tradeState.trade\">\r\n        <div class=\"trade initiator\" v-if=\"tradeState.status == 'INITIATOR'\">\r\n          <div class=\"champion\">\r\n            <img\r\n              :src=\"\r\n                getChampionImgUrl(tradeState.trade.target.selectedChampion.id)\r\n              \"\r\n            />\r\n          </div>\r\n          <div class=\"exchange\">\r\n            <i class=\"fas fa-exchange\"></i>\r\n          </div>\r\n          <div class=\"champion\">\r\n            <img\r\n              :src=\"\r\n                getChampionImgUrl(\r\n                  tradeState.trade.initiator.selectedChampion.id\r\n                )\r\n              \"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"trade target\" v-if=\"tradeState.status == 'TARGET'\">\r\n          <div class=\"champion\">\r\n            <img\r\n              :src=\"\r\n                getChampionImgUrl(\r\n                  tradeState.trade.initiator.selectedChampion.id\r\n                )\r\n              \"\r\n            />\r\n          </div>\r\n          <div class=\"exchange\">\r\n            <i class=\"fas fa-exchange\"></i>\r\n          </div>\r\n          <div class=\"champion\">\r\n            <img\r\n              :src=\"\r\n                getChampionImgUrl(tradeState.trade.target.selectedChampion.id)\r\n              \"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"info\">\r\n          <span>{{ t(\"CS_TRADE_SELF_INFO\") }}</span>\r\n          <span>{{ t(\"CS_TRADE_TARGET_INFO\") }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"actions\">\r\n        <div class=\"buttons\" v-if=\"tradeState.status == 'TARGET'\">\r\n          <button\r\n            @click=\"acceptTrade(tradeState.trade.initiator.user.summonerName)\"\r\n          >\r\n            {{ t(\"CS_TRADE_ACCEPT_BTN\") }}\r\n          </button>\r\n          <button\r\n            @click=\"denyTrade(tradeState.trade.initiator.user.summonerName)\"\r\n          >\r\n            {{ t(\"CS_TRADE_DENY_BTN\") }}\r\n          </button>\r\n        </div>\r\n        <span v-else>\r\n          <i class=\"fas fa-spinner spinner\"></i>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <button\r\n      class=\"tradeButton\"\r\n      @click=\"initiateTrade\"\r\n      v-if=\"\r\n        globalState.phase == 'PRE' &&\r\n          globalState.team != 'BLIND' &&\r\n          player.user.summonerName != currentPlayer.user.summonerName\r\n      \"\r\n      :disabled=\"!canTradeWith\"\r\n    >\r\n      <i class=\"fas fa-exchange\"></i>\r\n    </button>\r\n    <div class=\"champion\">\r\n      <img\r\n        :src=\"\r\n          player.selectedChampion\r\n            ? getChampionImgUrl(player.selectedChampion.id)\r\n            : 'static/images/general/not-selected.png'\r\n        \"\r\n        :alt=\"player.selectedChampion ? player.selectedChampion.id : 'NONE'\"\r\n      />\r\n      <div class=\"spells\">\r\n        <img :src=\"getSpell(player.spell1)\" alt=\"SummonerSpell1\" />\r\n        <img :src=\"getSpell(player.spell2)\" alt=\"SummonerSpell2\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"details\">\r\n      <div class=\"name\">\r\n        {{ `${player.user.summonerName}` }}\r\n        {{\r\n          player.user.summonerName == currentPlayer.user.summonerName\r\n            ? \" (YOU)\"\r\n            : \"\"\r\n        }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    player: Object\r\n  },\r\n  methods: {\r\n    getPlayerStateAnim() {\r\n      if (this.player.lockedIn) {\r\n        return \"static/anims/accent/champselect-player-idle.webm\";\r\n      } else if (this.player.canBan || this.player.canLockIn) {\r\n        return \"static/anims/accent/champselect-player-active.webm\";\r\n      } else {\r\n        return \"static/anims/accent/champselect-player-idle.webm\";\r\n      }\r\n    },\r\n    getChampionImgUrl(champId) {\r\n      const { host, port } = this.$store.state.config.download;\r\n      return `${host}:${port}/champions/${champId}.jpg`;\r\n    },\r\n    initiateTrade() {\r\n      this.$socket.sendChampSelectMessage(\r\n        `CHAMPSELECT_TRADE_REQUEST`,\r\n        { data: this.player.user.summonerName },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n\r\n          console.log(response);\r\n        }\r\n      );\r\n    },\r\n    getSpell(spell) {\r\n      spell = spell.toLowerCase();\r\n      const parts = spell.split(\"_\");\r\n      parts.forEach((part, index) => {\r\n        parts[index] = part.charAt(0).toUpperCase() + part.slice(1);\r\n      });\r\n      const spellimg = parts.join(\"\");\r\n\r\n      const { host, port } = this.$store.state.config.download;\r\n      return `${host}:${port}/summoner_spells/${spellimg}.jpg`;\r\n    },\r\n    acceptTrade(playerName) {\r\n      this.$socket.sendChampSelectMessage(\r\n        `CHAMPSELECT_TRADE_ACCEPT`,\r\n        { data: playerName },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n\r\n          console.log(response);\r\n        }\r\n      );\r\n    },\r\n    denyTrade(playerName) {\r\n      this.$socket.sendChampSelectMessage(\r\n        `CHAMPSELECT_TRADE_DENY`,\r\n        { data: playerName },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n\r\n          console.log(response);\r\n        }\r\n      );\r\n    }\r\n  },\r\n  computed: mapState({\r\n    globalState: state => state.csGlobalState,\r\n    tradeState: state => {\r\n      const myTrades = state.champselect.tradesTeam.filter(trade => {\r\n        return (\r\n          trade.initiator.user.summonerName ==\r\n            state.csCurrentPlayer.user.summonerName ||\r\n          trade.target.user.summonerName ==\r\n            state.csCurrentPlayer.user.summonerName\r\n        );\r\n      });\r\n\r\n      if (myTrades.length == 0) return;\r\n\r\n      const mytrade = myTrades[0];\r\n\r\n      if (\r\n        mytrade.initiator.user.summonerName ==\r\n        state.csCurrentPlayer.user.summonerName\r\n      ) {\r\n        return { status: \"INITIATOR\", trade: mytrade };\r\n      } else if (\r\n        mytrade.target.user.summonerName ==\r\n        state.csCurrentPlayer.user.summonerName\r\n      ) {\r\n        return { status: \"TARGET\", trade: mytrade };\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n    canTradeWith(state) {\r\n      if (\r\n        this.player.user.summonerName == state.csCurrentPlayer.user.summonerName\r\n      ) {\r\n        console.log(\"A\");\r\n        return false;\r\n      }\r\n\r\n      if (\r\n        state.champselect.tradesTeam.filter(trade => {\r\n          return (\r\n            trade.initiator.summonerName == this.player.summonerName ||\r\n            trade.target.summonerName == this.player.summonerName\r\n          );\r\n        }).length > 0\r\n      ) {\r\n        console.log(\"B\");\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    },\r\n    currentPlayer: state => state.csCurrentPlayer\r\n  })\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.player {\r\n  width: 100%;\r\n  height: 19%;\r\n  background: linear-gradient(180deg, #363636 0%, #090b0a 100%);\r\n  border: 2px solid #5f5f5f;\r\n  border-radius: 3px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  z-index: 15 !important;\r\n}\r\n\r\n.player .tradeButton {\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n  width: 30px;\r\n  height: 30px;\r\n  font-size: 16px;\r\n  padding: 5px;\r\n  background: linear-gradient(\r\n    180deg,\r\n    #3c73b4 0%,\r\n    #20477e 45%,\r\n    #1e3e6d 50%,\r\n    #0e284b 100%\r\n  );\r\n  outline: none;\r\n  border: none;\r\n  border-radius: 2px;\r\n  border: 1px solid #304b69;\r\n  cursor: pointer;\r\n  color: #bda21b;\r\n}\r\n\r\n.player .tradeButton:disabled {\r\n  filter: grayscale(100%);\r\n}\r\n\r\n.player .tradeButton:not(:disabled):hover {\r\n  filter: brightness(1.25);\r\n}\r\n\r\n.player .tradeModal {\r\n  width: 200px;\r\n  z-index: 15 !important;\r\n  height: 110px;\r\n  position: absolute;\r\n  right: -205px;\r\n  top: -15px;\r\n  border-radius: 3px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: linear-gradient(0deg, #100e0f 0%, #212222 100%);\r\n  border: 1px solid #3d3d3d;\r\n}\r\n\r\n.player .tradeModal .head {\r\n  width: 100%;\r\n  height: 20%;\r\n  font-family: LoLFont2;\r\n  font-size: 12px;\r\n  padding: 2px 5px;\r\n  text-align: center;\r\n}\r\n\r\n.player .tradeModal .tradeinfo {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 60%;\r\n  background-color: #060605;\r\n  border: 1px solid #3d3d3d;\r\n  flex-direction: column;\r\n}\r\n.player .tradeModal .tradeinfo .trade {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  height: 80%;\r\n  padding: 3px 8px;\r\n}\r\n\r\n.player .tradeModal .tradeinfo .exchange {\r\n  padding-top: 15px;\r\n  color: #f3c447;\r\n}\r\n.player .tradeModal .tradeinfo .champion {\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 3px;\r\n}\r\n\r\n.player .tradeModal .tradeinfo .champion img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  object-position: center;\r\n  border: 1px solid #3d3d3d;\r\n  border-radius: 3px;\r\n}\r\n\r\n.player .tradeModal .tradeinfo .info {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 0px 20px;\r\n  height: 80%;\r\n  font-family: LoLFont2;\r\n  font-size: 12px;\r\n}\r\n\r\n.player .tradeModal .actions {\r\n  width: 100%;\r\n  height: 20%;\r\n  position: relative;\r\n  text-align: center;\r\n}\r\n\r\n.player .tradeModal .actions .buttons {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  padding: 2px 0;\r\n  height: 100%;\r\n}\r\n\r\n.player .tradeModal .actions .buttons button {\r\n  font-size: 12px;\r\n  padding: 2px 10px;\r\n  background: linear-gradient(\r\n    180deg,\r\n    #3c73b4 0%,\r\n    #20477e 45%,\r\n    #1e3e6d 50%,\r\n    #0e284b 100%\r\n  );\r\n  outline: none;\r\n  border: none;\r\n  border-radius: 2px;\r\n  border: 1px solid #304b69;\r\n  cursor: pointer;\r\n  color: white;\r\n  transition: filter ease-in-out 200ms;\r\n}\r\n\r\n.player .tradeModal .actions .buttons button:hover {\r\n  filter: brightness(1.25);\r\n}\r\n\r\n.player .tradeModal .actions .spinner {\r\n  animation-name: spin;\r\n  animation-duration: 2s;\r\n  animation-iteration-count: infinite;\r\n  animation-timing-function: linear;\r\n}\r\n\r\n@keyframes spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.player > .champion {\r\n  padding: 5px;\r\n  display: flex;\r\n  width: 50%;\r\n  height: 75%;\r\n  position: relative;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.player > .champion img {\r\n  width: 50px;\r\n  height: 50px;\r\n  margin-right: 5px;\r\n  border: 1.5px solid #5f5f5f;\r\n  border-radius: 3px;\r\n}\r\n\r\n.player > .champion .spells {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.player > .champion .spells img {\r\n  width: 25px;\r\n  height: 25px;\r\n  border: 1px solid #5f5f5f;\r\n  border-radius: 3px;\r\n}\r\n\r\n.player > .details {\r\n  width: 100%;\r\n  height: 25%;\r\n  text-align: center;\r\n  font-family: LoLFont2;\r\n  font-size: 12px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}