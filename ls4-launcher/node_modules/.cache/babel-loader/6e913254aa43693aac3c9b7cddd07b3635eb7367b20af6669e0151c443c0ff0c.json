{"ast":null,"code":"import { mapState } from \"vuex\";\nimport Modal from \"../../plugins/modals\";\nexport default {\n  data() {\n    return {\n      visible: false,\n      selectedIconId: null\n    };\n  },\n  mounted() {\n    this.selectedIcon = this.$store.state.user.summonerIconId;\n  },\n  computed: mapState({\n    user: state => state.user,\n    icons: state => {\n      return state.collection.icons ? state.collection.icons.owned : [];\n    }\n  }),\n  methods: {\n    selectIcon(icon) {\n      this.$sound.template(\"OVERVIEW_CLICK\");\n      this.selectedIconId = icon.id;\n    },\n    submitIcon() {\n      this.$sound.template(\"CORE_CLICK\");\n      this.$socket.sendSystemMessage(\"USER_UPDATE_ICON\", {\n        data: this.selectedIconId\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n        this.$store.dispatch(\"setSummonerIcon\", this.selectedIconId);\n        this.hide();\n        this.selectedIconId = this.$store.state.user.summonerIconId;\n      });\n    },\n    getSummonerIconUrl(icon) {\n      const {\n        host,\n        port\n      } = this.$store.state.config.download;\n      return `${host}:${port}/summoner_icons/${icon.id}.png`;\n    },\n    hide() {\n      this.visible = false;\n    },\n    show() {\n      console.log(\"SHOWING\");\n      if (this.$store.state.collection.icons.length === 0) {\n        this.$store.dispatch(\"getCollectionIcons\");\n      }\n      this.visible = true;\n    }\n  },\n  beforeMount() {\n    Modal.EventBus.$on(\"summonericon-modal-show\", () => {\n      this.show();\n    });\n  }\n};","map":{"version":3,"names":["mapState","Modal","data","visible","selectedIconId","mounted","selectedIcon","$store","state","user","summonerIconId","computed","icons","collection","owned","methods","selectIcon","icon","$sound","template","id","submitIcon","$socket","sendSystemMessage","response","error","console","log","dispatch","hide","getSummonerIconUrl","host","port","config","download","show","length","beforeMount","EventBus","$on"],"sources":["src/components/Modals/SummonerIconModal.vue"],"sourcesContent":["<template>\r\n  <div class=\"modal\" v-if=\"visible\" tabindex=\"-1\">\r\n    <div class=\"head\">\r\n      {{ t(\"SMIMDL_TITLE\") }}\r\n    </div>\r\n    <div class=\"body\">\r\n      <div class=\"iconlist\">\r\n        <div\r\n          class=\"icon\"\r\n          v-for=\"(icon, index) in icons\"\r\n          :key=\"index\"\r\n          :class=\"{ selected: icon.id == selectedIconId }\"\r\n          @click=\"selectIcon(icon)\"\r\n        >\r\n          <img :src=\"getSummonerIconUrl(icon)\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"description\">\r\n        {{ t(\"SMIMDL_DESCRIPTION\") }}\r\n      </div>\r\n    </div>\r\n    <div class=\"foot\">\r\n      <button type=\"button\" @click=\"hide\">{{ t(\"SMIMDL_CANCEL_BTN\") }}</button>\r\n      <button type=\"button\" @click=\"submitIcon\">\r\n        {{ t(\"SMIMDL_OK_BTN\") }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport Modal from \"../../plugins/modals\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      selectedIconId: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.selectedIcon = this.$store.state.user.summonerIconId;\r\n  },\r\n  computed: mapState({\r\n    user: state => state.user,\r\n    icons: state => {\r\n      return state.collection.icons ? state.collection.icons.owned : [];\r\n    }\r\n  }),\r\n  methods: {\r\n    selectIcon(icon) {\r\n      this.$sound.template(\"OVERVIEW_CLICK\");\r\n      this.selectedIconId = icon.id;\r\n    },\r\n    submitIcon() {\r\n      this.$sound.template(\"CORE_CLICK\");\r\n      this.$socket.sendSystemMessage(\r\n        \"USER_UPDATE_ICON\",\r\n        { data: this.selectedIconId },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n          this.$store.dispatch(\"setSummonerIcon\", this.selectedIconId);\r\n          this.hide();\r\n          this.selectedIconId = this.$store.state.user.summonerIconId;\r\n        }\r\n      );\r\n    },\r\n    getSummonerIconUrl(icon) {\r\n      const { host, port } = this.$store.state.config.download;\r\n      return `${host}:${port}/summoner_icons/${icon.id}.png`;\r\n    },\r\n    hide() {\r\n      this.visible = false;\r\n    },\r\n    show() {\r\n      console.log(\"SHOWING\");\r\n      if (this.$store.state.collection.icons.length === 0) {\r\n        this.$store.dispatch(\"getCollectionIcons\");\r\n      }\r\n      this.visible = true;\r\n    }\r\n  },\r\n  beforeMount() {\r\n    Modal.EventBus.$on(\"summonericon-modal-show\", () => {\r\n      this.show();\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  width: 55%;\r\n  height: 300px;\r\n  border-radius: 7px;\r\n  padding: 0 10px;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 10 !important;\r\n  outline: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 1px solid rgba(3, 39, 82, 0.75); //origcolor rgb(100, 117, 137)\r\n  background: linear-gradient(\r\n    90deg,\r\n    rgba(12, 15, 19, 0.95) 100%,\r\n    rgba(20, 24, 29, 0.95) 0%\r\n  );\r\n  overflow: hidden;\r\n}\r\n\r\n.modal .head {\r\n  height: 30px;\r\n  width: 100%;\r\n  font-size: 16px;\r\n  font-family: LoLFont2;\r\n  padding: 10px 5px 0px 5px;\r\n}\r\n\r\n.modal .body {\r\n  width: 100%;\r\n  height: calc(100% - 60px);\r\n  display: flex;\r\n  padding: 10px 0;\r\n  justify-content: space-around;\r\n}\r\n\r\n.modal .body > div {\r\n  width: 50%;\r\n}\r\n\r\n.modal .body .description {\r\n  padding: 5px 10px;\r\n  font-family: LoLFont2;\r\n  text-align: justify;\r\n  font-size: 14px;\r\n}\r\n\r\n.modal .body .iconlist {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  overflow: auto;\r\n}\r\n\r\n.modal .body .iconlist .icon {\r\n  width: 75px;\r\n  height: 75px;\r\n  border: 1px solid rgba(255, 255, 255, 0.75);\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n  transition: filter ease-in-out 200ms;\r\n}\r\n\r\n.modal .body .iconlist .icon.selected {\r\n  border: 1px solid rgba(175, 128, 0, 0.75);\r\n}\r\n\r\n.modal .body .iconlist .icon:hover {\r\n  filter: brightness(1.25);\r\n}\r\n\r\n.modal .body .iconlist .icon:not(:nth-child(4n)) {\r\n  margin-right: 10px;\r\n}\r\n\r\n.modal .body .iconlist .icon img {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.modal .foot {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.modal .foot button {\r\n  background: linear-gradient(\r\n    180deg,\r\n    #3c73b4 0%,\r\n    #20477e 45%,\r\n    #1e3e6d 50%,\r\n    #0e284b 100%\r\n  );\r\n  outline: none;\r\n  border: none;\r\n  border-radius: 2px;\r\n  margin-right: 10px;\r\n  padding: 5px 30px;\r\n  border: 1px solid #304b69;\r\n  color: white;\r\n  font-family: LoLFont2;\r\n  transition: filter ease-in-out 200ms;\r\n  cursor: pointer;\r\n}\r\n\r\n.modal .foot button:hover {\r\n  filter: brightness(1.25);\r\n}\r\n</style>\r\n"],"mappings":"AA+BA,SAAAA,QAAA;AACA,OAAAC,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,cAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,YAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAC,cAAA;EACA;EACAC,QAAA,EAAAX,QAAA;IACAS,IAAA,EAAAD,KAAA,IAAAA,KAAA,CAAAC,IAAA;IACAG,KAAA,EAAAJ,KAAA;MACA,OAAAA,KAAA,CAAAK,UAAA,CAAAD,KAAA,GAAAJ,KAAA,CAAAK,UAAA,CAAAD,KAAA,CAAAE,KAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,IAAA;MACA,KAAAC,MAAA,CAAAC,QAAA;MACA,KAAAf,cAAA,GAAAa,IAAA,CAAAG,EAAA;IACA;IACAC,WAAA;MACA,KAAAH,MAAA,CAAAC,QAAA;MACA,KAAAG,OAAA,CAAAC,iBAAA,CACA,oBACA;QAAArB,IAAA,OAAAE;MAAA,GACA,CAAAoB,QAAA,EAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;QACA,KAAAlB,MAAA,CAAAqB,QAAA,yBAAAxB,cAAA;QACA,KAAAyB,IAAA;QACA,KAAAzB,cAAA,QAAAG,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAC,cAAA;MACA,CACA;IACA;IACAoB,mBAAAb,IAAA;MACA;QAAAc,IAAA;QAAAC;MAAA,SAAAzB,MAAA,CAAAC,KAAA,CAAAyB,MAAA,CAAAC,QAAA;MACA,UAAAH,IAAA,IAAAC,IAAA,mBAAAf,IAAA,CAAAG,EAAA;IACA;IACAS,KAAA;MACA,KAAA1B,OAAA;IACA;IACAgC,KAAA;MACAT,OAAA,CAAAC,GAAA;MACA,SAAApB,MAAA,CAAAC,KAAA,CAAAK,UAAA,CAAAD,KAAA,CAAAwB,MAAA;QACA,KAAA7B,MAAA,CAAAqB,QAAA;MACA;MACA,KAAAzB,OAAA;IACA;EACA;EACAkC,YAAA;IACApC,KAAA,CAAAqC,QAAA,CAAAC,GAAA;MACA,KAAAJ,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}