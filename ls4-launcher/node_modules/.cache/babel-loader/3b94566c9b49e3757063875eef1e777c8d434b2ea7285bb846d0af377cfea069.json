{"ast":null,"code":"import Modal from \"../../plugins/modals\";\nexport default {\n  data() {\n    return {\n      visible: false,\n      positioning: \"\",\n      friend: {}\n    };\n  },\n  methods: {\n    hide(event = null) {\n      if (event) {\n        if (event.target.contains(event.relatedTarget)) {\n          event.relatedTarget.click();\n          this.visible = false;\n        }\n      }\n      this.visible = false;\n    },\n    show(params) {\n      this.visible = true;\n      this.friend = params.friend;\n      this.positioning = params.positioning;\n    },\n    inviteFriend() {\n      this.$socket.sendLobbyMessage(\"LOBBY_INVITE\", {\n        data: this.friend\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n      });\n    },\n    removeFriend() {\n      this.$socket.sendSystemMessage(\"FRIEND_REMOVE\", {\n        data: this.friend\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n      });\n    },\n    blockFriend() {\n      this.$socket.sendSystemMessage(\"FRIEND_BLOCK\", {\n        data: this.friend\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n      });\n    },\n    banUser() {\n      this.$socket.sendSystemMessage(\"USER_BAN\", {\n        data: this.friend.summonerName\n      }, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n      });\n    },\n    isAdmin() {\n      return this.$store.state.user.roles.includes(\"ADMIN\");\n    }\n  },\n  beforeMount() {\n    Modal.EventBus.$on(\"friend-contextmenu-show\", params => {\n      this.show(params);\n    });\n  },\n  updated() {\n    if (this.$refs.contextmenu) {\n      this.$refs.contextmenu.focus();\n    }\n  }\n};","map":{"version":3,"names":["Modal","data","visible","positioning","friend","methods","hide","event","target","contains","relatedTarget","click","show","params","inviteFriend","$socket","sendLobbyMessage","response","error","console","log","removeFriend","sendSystemMessage","blockFriend","banUser","summonerName","isAdmin","$store","state","user","roles","includes","beforeMount","EventBus","$on","updated","$refs","contextmenu","focus"],"sources":["src/components/Modals/FriendContextMenuModal.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"contextmenu\"\r\n    v-if=\"visible\"\r\n    v-bind:style=\"positioning\"\r\n    v-bind:class=\"this.$store.state.lobby.owner ? 'inlobby' : ''\"\r\n    tabindex=\"-1\"\r\n    v-on:focusout=\"hide($event)\"\r\n    ref=\"contextmenu\"\r\n  >\r\n    <div class=\"options\">\r\n      <button\r\n        v-if=\"\r\n          this.$store.state.lobby.owner && friend.summonerStatus != 'OFFLINE'\r\n        \"\r\n        @click=\"inviteFriend\"\r\n      >\r\n        <i class=\"far fa-reply\"></i>\r\n        <span class=\"text\">{{ t(\"FRCM_ACTION_INVITE\") }}</span>\r\n      </button>\r\n      <button @click=\"removeFriend\">\r\n        <i class=\"far fa-user-minus\"></i>\r\n        <span class=\"text\">{{ t(\"FRCM_ACTION_REMOVE\") }}</span>\r\n      </button>\r\n      <button @click=\"blockFriend\">\r\n        <i class=\"far fa-ban\"></i>\r\n        <span class=\"text\">{{ t(\"FRCM_ACTION_BLOCK\") }}</span>\r\n      </button>\r\n      <button v-if=\"isAdmin()\" @click=\"banUser\">\r\n        <i class=\"far fa-user-slash\"></i>\r\n        <span class=\"text\">{{ t(\"FRCM_ACTION_BAN\") }}</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"../../plugins/modals\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      positioning: \"\",\r\n      friend: {}\r\n    };\r\n  },\r\n  methods: {\r\n    hide(event = null) {\r\n      if (event) {\r\n        if (event.target.contains(event.relatedTarget)) {\r\n          event.relatedTarget.click();\r\n          this.visible = false;\r\n        }\r\n      }\r\n      this.visible = false;\r\n    },\r\n    show(params) {\r\n      this.visible = true;\r\n      this.friend = params.friend;\r\n      this.positioning = params.positioning;\r\n    },\r\n    inviteFriend() {\r\n      this.$socket.sendLobbyMessage(\r\n        \"LOBBY_INVITE\",\r\n        { data: this.friend },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n        }\r\n      );\r\n    },\r\n    removeFriend() {\r\n      this.$socket.sendSystemMessage(\r\n        \"FRIEND_REMOVE\",\r\n        { data: this.friend },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n        }\r\n      );\r\n    },\r\n    blockFriend() {\r\n      this.$socket.sendSystemMessage(\r\n        \"FRIEND_BLOCK\",\r\n        { data: this.friend },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n        }\r\n      );\r\n    },\r\n    banUser() {\r\n      this.$socket.sendSystemMessage(\r\n        \"USER_BAN\",\r\n        { data: this.friend.summonerName },\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n        }\r\n      );\r\n    },\r\n    isAdmin() {\r\n      return this.$store.state.user.roles.includes(\"ADMIN\");\r\n    }\r\n  },\r\n  beforeMount() {\r\n    Modal.EventBus.$on(\"friend-contextmenu-show\", params => {\r\n      this.show(params);\r\n    });\r\n  },\r\n  updated() {\r\n    if (this.$refs.contextmenu) {\r\n      this.$refs.contextmenu.focus();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.contextmenu {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 155px;\r\n  background-color: rgba(0, 0, 0, 0.75);\r\n  background-image: url(\"../../assets/images/social-button-bg.png\");\r\n  background-size: 100% 100%;\r\n  z-index: 15 !important;\r\n  outline: none;\r\n  border-radius: 7px;\r\n  /* transition: height ease-in-out 150ms; */\r\n  overflow: hidden;\r\n}\r\n\r\n/* .contextmenu .title {\r\n  font-size: 14px;\r\n  font-family: LoLFont4;\r\n  color: whitesmoke;\r\n  text-align: center;\r\n  height: 10%;\r\n} */\r\n.contextmenu .options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n.contextmenu .options button {\r\n  width: 100%;\r\n  height: 50%;\r\n  box-sizing: border-box;\r\n  background-color: transparent;\r\n  color: whitesmoke;\r\n  outline: none;\r\n  border: none;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  font-size: 12px;\r\n  transition: background-color ease-in-out 150ms;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n}\r\n.contextmenu.inlobby .options button {\r\n  height: 33.33%;\r\n}\r\n.contextmenu .options button i {\r\n  width: 30px;\r\n  margin-right: 5px;\r\n}\r\n.contextmenu .options button .text {\r\n  font-family: LoLFont2;\r\n  line-height: 16px;\r\n}\r\n.contextmenu .options button:hover {\r\n  background-color: rgba(245, 245, 245, 0.15);\r\n}\r\n</style>\r\n"],"mappings":"AAqCA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,WAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,KAAAC,KAAA;MACA,IAAAA,KAAA;QACA,IAAAA,KAAA,CAAAC,MAAA,CAAAC,QAAA,CAAAF,KAAA,CAAAG,aAAA;UACAH,KAAA,CAAAG,aAAA,CAAAC,KAAA;UACA,KAAAT,OAAA;QACA;MACA;MACA,KAAAA,OAAA;IACA;IACAU,KAAAC,MAAA;MACA,KAAAX,OAAA;MACA,KAAAE,MAAA,GAAAS,MAAA,CAAAT,MAAA;MACA,KAAAD,WAAA,GAAAU,MAAA,CAAAV,WAAA;IACA;IACAW,aAAA;MACA,KAAAC,OAAA,CAAAC,gBAAA,CACA,gBACA;QAAAf,IAAA,OAAAG;MAAA,GACA,CAAAa,QAAA,EAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;MACA,CACA;IACA;IACAG,aAAA;MACA,KAAAN,OAAA,CAAAO,iBAAA,CACA,iBACA;QAAArB,IAAA,OAAAG;MAAA,GACA,CAAAa,QAAA,EAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;MACA,CACA;IACA;IACAK,YAAA;MACA,KAAAR,OAAA,CAAAO,iBAAA,CACA,gBACA;QAAArB,IAAA,OAAAG;MAAA,GACA,CAAAa,QAAA,EAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;MACA,CACA;IACA;IACAM,QAAA;MACA,KAAAT,OAAA,CAAAO,iBAAA,CACA,YACA;QAAArB,IAAA,OAAAG,MAAA,CAAAqB;MAAA,GACA,CAAAR,QAAA,EAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;MACA,CACA;IACA;IACAQ,QAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,QAAA;IACA;EACA;EACAC,YAAA;IACAhC,KAAA,CAAAiC,QAAA,CAAAC,GAAA,4BAAArB,MAAA;MACA,KAAAD,IAAA,CAAAC,MAAA;IACA;EACA;EACAsB,QAAA;IACA,SAAAC,KAAA,CAAAC,WAAA;MACA,KAAAD,KAAA,CAAAC,WAAA,CAAAC,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}