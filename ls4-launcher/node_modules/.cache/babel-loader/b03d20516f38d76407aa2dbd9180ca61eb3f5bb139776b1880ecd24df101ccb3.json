{"ast":null,"code":"export default {\n  data() {\n    return {\n      loaded: false,\n      items: []\n    };\n  },\n  methods: {\n    getStyleProp(item) {\n      const {\n        host,\n        port\n      } = this.$store.state.config.download;\n      return `background-image: url(\"${host}:${port}/summoner_icons/${item.id}.png\")`;\n    },\n    canBuy(item) {\n      if (item.price > this.$store.state.user.s4Coins) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    buyItem(item) {\n      this.$store.dispatch(\"postPurchaseItem\", {\n        item,\n        category: \"Icons\"\n      }).then(response => {\n        if (response.status === 200) {\n          this.$sound.template(\"CORE_SHOP_BUY_GENERAL\");\n          this.$store.dispatch(\"getStoreItems\", \"icons\").then(items => {\n            this.items = items;\n          });\n          this.$store.dispatch(\"deductUserCoins\", item.price);\n        }\n      });\n    }\n  },\n  beforeMount() {\n    this.$store.dispatch(\"getStoreItems\", \"icons\").then(items => {\n      this.items = items;\n      this.loaded = true;\n    });\n  }\n};","map":{"version":3,"names":["data","loaded","items","methods","getStyleProp","item","host","port","$store","state","config","download","id","canBuy","price","user","s4Coins","buyItem","dispatch","category","then","response","status","$sound","template","beforeMount"],"sources":["src/views/Store/Icons.vue"],"sourcesContent":["<template>\r\n  <div class=\"storecontent\">\r\n    <div class=\"itemlist\">\r\n      <div v-if=\"loaded && !items.length\" class=\"noItems\">\r\n        {{ t(\"STORE_NO_ITEMS\") }}\r\n      </div>\r\n      <div class=\"item\" v-for=\"(item, index) in items\" :key=\"index\">\r\n        <div class=\"title\">\r\n          {{ item.name ? item.name : `Icon ${item.id}` }}\r\n        </div>\r\n        <div class=\"content\">\r\n          <div class=\"background\" :style=\"getStyleProp(item)\"></div>\r\n          <div class=\"foot\">\r\n            <span><i class=\"fas fa-coins\"></i> {{ item.price }}</span>\r\n            <button @click=\"buyItem(item)\" :disabled=\"canBuy(item)\">\r\n              {{ t(\"STORE_UNLOCK_BTN\") }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      loaded: false,\r\n      items: []\r\n    };\r\n  },\r\n  methods: {\r\n    getStyleProp(item) {\r\n      const { host, port } = this.$store.state.config.download;\r\n      return `background-image: url(\"${host}:${port}/summoner_icons/${item.id}.png\")`;\r\n    },\r\n    canBuy(item) {\r\n      if (item.price > this.$store.state.user.s4Coins) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    buyItem(item) {\r\n      this.$store\r\n        .dispatch(\"postPurchaseItem\", { item, category: \"Icons\" })\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            this.$sound.template(\"CORE_SHOP_BUY_GENERAL\");\r\n            this.$store.dispatch(\"getStoreItems\", \"icons\").then(items => {\r\n              this.items = items;\r\n            });\r\n            this.$store.dispatch(\"deductUserCoins\", item.price);\r\n          }\r\n        });\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.$store.dispatch(\"getStoreItems\", \"icons\").then(items => {\r\n      this.items = items;\r\n      this.loaded = true;\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n@import \"../../assets/css/store.css\";\r\n\r\n.storecontent .itemlist .item .background {\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: 7%;\r\n  width: 81%;\r\n  height: 65%;\r\n}\r\n</style>\r\n"],"mappings":"AAyBA;EACAA,KAAA;IACA;MACAC,MAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAAC,IAAA;MACA;QAAAC,IAAA;QAAAC;MAAA,SAAAC,MAAA,CAAAC,KAAA,CAAAC,MAAA,CAAAC,QAAA;MACA,iCAAAL,IAAA,IAAAC,IAAA,mBAAAF,IAAA,CAAAO,EAAA;IACA;IACAC,OAAAR,IAAA;MACA,IAAAA,IAAA,CAAAS,KAAA,QAAAN,MAAA,CAAAC,KAAA,CAAAM,IAAA,CAAAC,OAAA;QACA;MACA;QACA;MACA;IACA;IACAC,QAAAZ,IAAA;MACA,KAAAG,MAAA,CACAU,QAAA;QAAAb,IAAA;QAAAc,QAAA;MAAA,GACAC,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,MAAA;UACA,KAAAC,MAAA,CAAAC,QAAA;UACA,KAAAhB,MAAA,CAAAU,QAAA,2BAAAE,IAAA,CAAAlB,KAAA;YACA,KAAAA,KAAA,GAAAA,KAAA;UACA;UACA,KAAAM,MAAA,CAAAU,QAAA,oBAAAb,IAAA,CAAAS,KAAA;QACA;MACA;IACA;EACA;EACAW,YAAA;IACA,KAAAjB,MAAA,CAAAU,QAAA,2BAAAE,IAAA,CAAAlB,KAAA;MACA,KAAAA,KAAA,GAAAA,KAAA;MACA,KAAAD,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}