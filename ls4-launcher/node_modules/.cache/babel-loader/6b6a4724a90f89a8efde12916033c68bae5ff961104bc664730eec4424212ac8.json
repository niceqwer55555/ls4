{"ast":null,"code":"// import { mapState } from \"vuex\";\nimport Modal from \"../../plugins/modals\";\nimport { ipcRenderer } from \"electron\";\nimport { mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      visible: false,\n      canAct: true,\n      timeout: null\n    };\n  },\n  computed: mapState({\n    matchFoundState: state => state.matchFoundState\n  }),\n  methods: {\n    getMMTitle() {\n      if (!this.canAct) {\n        return this.$translate.text(\"MMDL_TITLE_WAIT\");\n      } else {\n        return this.$translate.text(\"MMDL_TITLE_MATCH_FOUND\");\n      }\n    },\n    hide() {\n      this.visible = false;\n      this.$store.dispatch(\"clearMatchFoundState\");\n    },\n    show() {\n      this.visible = true;\n    },\n    acceptMatch() {\n      if (!this.canAct) return;\n      this.canAct = false;\n      this.$socket.sendLobbyMessage(\"LOBBY_CHAMPSELECT_ACCEPT\", {}, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n        console.log(response);\n      });\n    },\n    denyMatch() {\n      if (!this.canAct) return;\n      this.canAct = false;\n      Modal.EventBus.$emit(\"matchmaking-reset-timer\");\n      this.$socket.sendLobbyMessage(\"LOBBY_CHAMPSELECT_DENY\", {}, (response, error) => {\n        if (error) {\n          console.log(\"Flyback error:\");\n          console.log(error);\n        }\n        console.log(response);\n      });\n    }\n  },\n  beforeMount() {\n    Modal.EventBus.$on(\"matchmaking-show\", () => {\n      this.show();\n      ipcRenderer.send(\"focusApp\");\n      this.$sound.template(\"CORE_MATCH_FOUND\");\n      this.timeout = setTimeout(() => {\n        this.hide();\n        this.canAct = true;\n      }, 15000);\n    });\n    Modal.EventBus.$on(\"matchmaking-hide\", () => {\n      this.hide();\n      this.canAct = true;\n    });\n  },\n  updated() {\n    if (this.$refs.modal) {\n      this.$refs.modal.focus();\n    }\n  }\n};","map":{"version":3,"names":["Modal","ipcRenderer","mapState","data","visible","canAct","timeout","computed","matchFoundState","state","methods","getMMTitle","$translate","text","hide","$store","dispatch","show","acceptMatch","$socket","sendLobbyMessage","response","error","console","log","denyMatch","EventBus","$emit","beforeMount","$on","send","$sound","template","setTimeout","updated","$refs","modal","focus"],"sources":["src/components/Modals/MatchMakingModal.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"visible\">\r\n    <div class=\"backdrop\"></div>\r\n    <div class=\"modal\" ref=\"modal\" tabindex=\"-1\">\r\n      <div class=\"title\">\r\n        {{ getMMTitle() }}\r\n      </div>\r\n      <div class=\"timer\">\r\n        <div class=\"pie spinner\"></div>\r\n        <div class=\"pie filler\"></div>\r\n        <div class=\"mask\"></div>\r\n      </div>\r\n      <div class=\"actions\" v-if=\"canAct\">\r\n        <button @click=\"acceptMatch\">\r\n          {{ t(\"MMMDL_ACCEPT_BTN\") }}\r\n        </button>\r\n        <button @click=\"denyMatch\">\r\n          {{ t(\"MMMDL_DENY_BTN\") }}\r\n        </button>\r\n      </div>\r\n      <div class=\"players\" v-if=\"!canAct\">\r\n        <div\r\n          class=\"player\"\r\n          v-for=\"index in matchFoundState.accepted\"\r\n          :key=\"index\"\r\n        >\r\n          <img src=\"@/assets/images/matchmaking_player_accept.png\" />\r\n        </div>\r\n        <div\r\n          class=\"player\"\r\n          v-for=\"index in matchFoundState.denied\"\r\n          :key=\"index\"\r\n        >\r\n          <img src=\"@/assets/images/matchmaking_player_deny.png\" />\r\n        </div>\r\n        <div\r\n          class=\"player pending\"\r\n          v-for=\"index in matchFoundState.pending\"\r\n          :key=\"index\"\r\n        >\r\n          <img src=\"@/assets/images/matchmaking_player_accept.png\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { mapState } from \"vuex\";\r\nimport Modal from \"../../plugins/modals\";\r\nimport { ipcRenderer } from \"electron\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      canAct: true,\r\n      timeout: null\r\n    };\r\n  },\r\n  computed: mapState({\r\n    matchFoundState: state => state.matchFoundState\r\n  }),\r\n  methods: {\r\n    getMMTitle() {\r\n      if (!this.canAct) {\r\n        return this.$translate.text(\"MMDL_TITLE_WAIT\");\r\n      } else {\r\n        return this.$translate.text(\"MMDL_TITLE_MATCH_FOUND\");\r\n      }\r\n    },\r\n    hide() {\r\n      this.visible = false;\r\n      this.$store.dispatch(\"clearMatchFoundState\");\r\n    },\r\n    show() {\r\n      this.visible = true;\r\n    },\r\n    acceptMatch() {\r\n      if (!this.canAct) return;\r\n      this.canAct = false;\r\n      this.$socket.sendLobbyMessage(\r\n        \"LOBBY_CHAMPSELECT_ACCEPT\",\r\n        {},\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n          console.log(response);\r\n        }\r\n      );\r\n    },\r\n    denyMatch() {\r\n      if (!this.canAct) return;\r\n      this.canAct = false;\r\n\r\n      Modal.EventBus.$emit(\"matchmaking-reset-timer\");\r\n      this.$socket.sendLobbyMessage(\r\n        \"LOBBY_CHAMPSELECT_DENY\",\r\n        {},\r\n        (response, error) => {\r\n          if (error) {\r\n            console.log(\"Flyback error:\");\r\n            console.log(error);\r\n          }\r\n          console.log(response);\r\n        }\r\n      );\r\n    }\r\n  },\r\n  beforeMount() {\r\n    Modal.EventBus.$on(\"matchmaking-show\", () => {\r\n      this.show();\r\n      ipcRenderer.send(\"focusApp\");\r\n      this.$sound.template(\"CORE_MATCH_FOUND\");\r\n\r\n      this.timeout = setTimeout(() => {\r\n        this.hide();\r\n        this.canAct = true;\r\n      }, 15000);\r\n    });\r\n\r\n    Modal.EventBus.$on(\"matchmaking-hide\", () => {\r\n      this.hide();\r\n      this.canAct = true;\r\n    });\r\n  },\r\n  updated() {\r\n    if (this.$refs.modal) {\r\n      this.$refs.modal.focus();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.backdrop {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n  z-index: 9 !important;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  width: 380px;\r\n  height: 180px;\r\n  background-size: 100% 100%;\r\n  background-image: url(\"../../assets/images/matchmaking_modal_bg.png\");\r\n  // box-shadow: 0 0 3px 1px rgba(245, 245, 245, 0.25);\r\n  padding: 20px;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 10 !important;\r\n  outline: none;\r\n}\r\n\r\n.modal .title {\r\n  position: absolute;\r\n  top: 25px;\r\n  left: 0;\r\n  text-align: center;\r\n  width: 100%;\r\n  font-size: 18px;\r\n  font-family: LoLFont2;\r\n}\r\n\r\n.modal .actions {\r\n  position: absolute;\r\n  bottom: 25px;\r\n  left: 0;\r\n  width: 100%;\r\n  padding: 0 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.modal .players {\r\n  position: absolute;\r\n  bottom: 25px;\r\n  left: 0;\r\n  width: 100%;\r\n  padding: 0 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.modal .players .player:not(:last-child) {\r\n  margin-right: 3px;\r\n}\r\n\r\n.modal .players .player.pending {\r\n  filter: brightness(0.3);\r\n}\r\n\r\n.modal .actions button {\r\n  background: linear-gradient(\r\n    180deg,\r\n    #3c73b4 0%,\r\n    #20477e 45%,\r\n    #1e3e6d 50%,\r\n    #0e284b 100%\r\n  );\r\n  outline: none;\r\n  border: none;\r\n  width: 125px;\r\n  border-radius: 2px;\r\n  margin-right: 10px;\r\n  padding: 5px 0;\r\n  text-align: center;\r\n  border: 1px solid #304b69;\r\n  color: white;\r\n  font-family: LoLFont2;\r\n  transition: filter ease-in-out 200ms;\r\n  cursor: pointer;\r\n}\r\n\r\n.modal .actions button:hover {\r\n  filter: brightness(1.25);\r\n}\r\n\r\n.modal .timer {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: rgb(255, 255, 255);\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n}\r\n\r\n@mixin timer($item, $duration, $size, $color, $border, $hover: running) {\r\n  #{$item} {\r\n    width: $size;\r\n    height: $size;\r\n  }\r\n\r\n  #{$item} .pie {\r\n    width: 50%;\r\n    height: 100%;\r\n    transform-origin: 100% 50%;\r\n    position: absolute;\r\n    background: $color;\r\n    border: #{$border};\r\n  }\r\n\r\n  #{$item} .spinner {\r\n    border-radius: 100% 0 0 100% / 50% 0 0 50%;\r\n    z-index: 200;\r\n    border-right: none;\r\n    animation: rota $duration + s linear forwards;\r\n  }\r\n\r\n  #{$item}:hover .spinner,\r\n  #{$item}:hover .filler,\r\n  #{$item}:hover .mask {\r\n    animation-play-state: $hover;\r\n  }\r\n\r\n  #{$item} .filler {\r\n    border-radius: 0 100% 100% 0 / 0 50% 50% 0;\r\n    left: 50%;\r\n    opacity: 0;\r\n    z-index: 100;\r\n    animation: opa $duration + s steps(1, end) forwards reverse;\r\n    border-left: none;\r\n  }\r\n\r\n  #{$item} .mask {\r\n    width: 50%;\r\n    height: 100%;\r\n    position: absolute;\r\n    background: inherit;\r\n    opacity: 1;\r\n    z-index: 300;\r\n    animation: opa $duration + s steps(1, end) forwards;\r\n  }\r\n\r\n  @keyframes rota {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n\r\n  @keyframes opa {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n    50%,\r\n    100% {\r\n      opacity: 0;\r\n    }\r\n  }\r\n}\r\n\r\n@include timer(\".modal .timer\", 15, 25px, rgb(0, 0, 0), \"none\");\r\n// from: https://codepen.io/KittyGiraudel/pen/BHEwo\r\n</style>\r\n"],"mappings":"AAgDA;AACA,OAAAA,KAAA;AACA,SAAAC,WAAA;AACA,SAAAC,QAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA,EAAAL,QAAA;IACAM,eAAA,EAAAC,KAAA,IAAAA,KAAA,CAAAD;EACA;EACAE,OAAA;IACAC,WAAA;MACA,UAAAN,MAAA;QACA,YAAAO,UAAA,CAAAC,IAAA;MACA;QACA,YAAAD,UAAA,CAAAC,IAAA;MACA;IACA;IACAC,KAAA;MACA,KAAAV,OAAA;MACA,KAAAW,MAAA,CAAAC,QAAA;IACA;IACAC,KAAA;MACA,KAAAb,OAAA;IACA;IACAc,YAAA;MACA,UAAAb,MAAA;MACA,KAAAA,MAAA;MACA,KAAAc,OAAA,CAAAC,gBAAA,CACA,4BACA,IACA,CAAAC,QAAA,EAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;QACAC,OAAA,CAAAC,GAAA,CAAAH,QAAA;MACA,CACA;IACA;IACAI,UAAA;MACA,UAAApB,MAAA;MACA,KAAAA,MAAA;MAEAL,KAAA,CAAA0B,QAAA,CAAAC,KAAA;MACA,KAAAR,OAAA,CAAAC,gBAAA,CACA,0BACA,IACA,CAAAC,QAAA,EAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;QACAC,OAAA,CAAAC,GAAA,CAAAH,QAAA;MACA,CACA;IACA;EACA;EACAO,YAAA;IACA5B,KAAA,CAAA0B,QAAA,CAAAG,GAAA;MACA,KAAAZ,IAAA;MACAhB,WAAA,CAAA6B,IAAA;MACA,KAAAC,MAAA,CAAAC,QAAA;MAEA,KAAA1B,OAAA,GAAA2B,UAAA;QACA,KAAAnB,IAAA;QACA,KAAAT,MAAA;MACA;IACA;IAEAL,KAAA,CAAA0B,QAAA,CAAAG,GAAA;MACA,KAAAf,IAAA;MACA,KAAAT,MAAA;IACA;EACA;EACA6B,QAAA;IACA,SAAAC,KAAA,CAAAC,KAAA;MACA,KAAAD,KAAA,CAAAC,KAAA,CAAAC,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}